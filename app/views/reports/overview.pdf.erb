<%= render partial: 'header' %>

<h2 align="center">General Overview for <%= @institution.name %></h2>

<table class="dl-horizontal">
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Intellectual Objects</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= @overview_report[:intellectual_objects] %></th>
  </tr>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Generic Files</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= @overview_report[:generic_files] %></th>
  </tr>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Premis Events</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= @overview_report[:premis_events] %></th>
  </tr>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Work Items</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= @overview_report[:work_items] %></th>
  </tr>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Average File Size</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= number_to_human_size(@overview_report[:average_file_size]) %></th>
  </tr>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Total Bytes Preserved</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= number_to_human_size(@overview_report[:bytes_by_format]['all']) %></th>
  </tr>
  <% if @overview_report[:subscribers].nil? || @overview_report[:subscribers] == {} %>
      <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Sub Accounts</th>
      <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;">None</th>
  <% else %>
      <tr width="600px">
        <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Sub Accounts</th>
        <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;">-----------</th>
      </tr>
      <% @overview_report[:subscribers].each do |key, value| %>
          <tr width="600px">
            <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;"><%= key %></th>
            <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= number_to_human_size(value) %></th>
          </tr>
      <% end %>
  <% end %>
  <tr width="600px">
    <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;">Bytes by Type</th>
    <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;">-----------</th>
  </tr>
  <% @overview_report[:bytes_by_format].each do |key, value| %>
      <% unless key == 'all' %>
          <tr width="600px">
            <th width="200px" align="left" style="float: left; overflow: hidden; white-space: nowrap;"><%= key %></th>
            <th width="400px" align="right" style="font-weight: 100; float: left; overflow: hidden;"><%= number_to_human_size(value) %></th>
          </tr>
      <% end %>
  <% end %>
</table>

<%= render partial: 'footer' %>